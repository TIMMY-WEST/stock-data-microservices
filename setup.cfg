[flake8]
max-line-length = 88
extend-ignore = E203, W503
exclude =
    .git,
    __pycache__,
    .venv,
    venv,
    .pytest_cache,
    migrations,
    build,
    dist,
    node_modules
per-file-ignores =
    __init__.py:F401
    tests/*:N802,N806
max-complexity = 10

[isort]
profile = black
line_length = 88
known_first_party = app,tests
force_single_line = false
include_trailing_comma = true
multi_line_output = 3
use_parentheses = true

[mypy]
python_version = 3.12
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = true
disallow_incomplete_defs = true
check_untyped_defs = true
disallow_untyped_decorators = true
no_implicit_optional = true
warn_redundant_casts = true
warn_unused_ignores = true
warn_no_return = true
warn_unreachable = true
ignore_missing_imports = true
show_error_codes = true

# Temporary loose setting for gradual adoption
no_strict_optional = true

# Exclude directories
exclude =
    migrations,
    venv,
    .venv,
    build,
    dist

# MyPy module-specific settings
[mypy-flask_sqlalchemy.*]
ignore_missing_imports = true

[mypy-app.models.*]
disable_error_code = name-defined

[tool:pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts =
    -v
    --tb=short
